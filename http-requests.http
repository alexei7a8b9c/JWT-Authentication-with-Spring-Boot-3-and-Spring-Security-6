### 1. –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –ù–û–í–û–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
POST http://localhost:8080/auth/sign-up
Content-Type: application/json

{
  "username": "ivanov",
  "email": "ivanov@mail.ru",
  "password": "password123"
}

> {%
    client.test("1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞", function() {
        client.assert(response.status === 200, "–û–∂–∏–¥–∞–ª—Å—è —Å—Ç–∞—Ç—É—Å 200");
        client.assert(response.body.token, "–¢–æ–∫–µ–Ω –Ω–µ –ø–æ–ª—É—á–µ–Ω");
        client.log("‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞. –¢–æ–∫–µ–Ω –ø–æ–ª—É—á–µ–Ω");
        client.global.set("user_token", response.body.token);
    });
%}

### 2. –ü–†–û–í–ï–†–ö–ê –î–£–ë–õ–ò–†–û–í–ê–ù–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
POST http://localhost:8080/auth/sign-up
Content-Type: application/json

{
  "username": "ivanov",
  "email": "ivanov2@mail.ru",
  "password": "password123"
}

> {%
    client.test("2. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø—Ä–µ—â–µ–Ω–æ", function() {
        client.assert(response.status === 403, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ 403 –ø—Ä–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏");
        client.log("‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ username –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ");
    });
%}

### 3. –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï EMAIL
POST http://localhost:8080/auth/sign-up
Content-Type: application/json

{
  "username": "ivanov2",
  "email": "ivanov@mail.ru",
  "password": "password123"
}

> {%
    client.test("3. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ email –∑–∞–ø—Ä–µ—â–µ–Ω–æ", function() {
        client.assert(response.status === 403, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ 403 –ø—Ä–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ email");
        client.log("‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ email –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ");
    });
%}

### 4. –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
POST http://localhost:8080/auth/sign-in
Content-Type: application/json

{
  "username": "ivanov",
  "password": "password123"
}

> {%
    client.test("4. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞", function() {
        client.assert(response.status === 200, "–û–∂–∏–¥–∞–ª—Å—è —Å—Ç–∞—Ç—É—Å 200");
        client.assert(response.body.token, "–¢–æ–∫–µ–Ω –Ω–µ –ø–æ–ª—É—á–µ–Ω –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏");
        client.log("‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞");
        client.global.set("user_token", response.body.token);
    });
%}

### 5. –ù–ï–í–ï–†–ù–´–ô –ü–ê–†–û–õ–¨
POST http://localhost:8080/auth/sign-in
Content-Type: application/json

{
  "username": "ivanov",
  "password": "wrongpassword"
}

> {%
    client.test("5. –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç–∫–ª–æ–Ω–µ–Ω", function() {
        client.assert(response.status === 403, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ 403 –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –ø–∞—Ä–æ–ª–µ");
        client.log("‚úÖ –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–∫–ª–æ–Ω–µ–Ω");
    });
%}

### 6. –î–û–°–¢–£–ü –ö –ó–ê–©–ò–©–ï–ù–ù–û–ú–£ ENDPOINT (—Å —Ç–æ–∫–µ–Ω–æ–º)
GET http://localhost:8080/example
Authorization: Bearer {{user_token}}

> {%
    client.test("6. –î–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É endpoint —Å —Ç–æ–∫–µ–Ω–æ–º", function() {
        client.assert(response.status === 200, "–û–∂–∏–¥–∞–ª—Å—è —Å—Ç–∞—Ç—É—Å 200 —Å –≤–∞–ª–∏–¥–Ω—ã–º —Ç–æ–∫–µ–Ω–æ–º");
        client.assert(response.body === "Hello, world!", "–ù–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞");
        client.log("‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω—ã–π endpoint –¥–æ—Å—Ç—É–ø–µ–Ω —Å —Ç–æ–∫–µ–Ω–æ–º");
    });
%}

### 7. –î–û–°–¢–£–ü –ë–ï–ó –¢–û–ö–ï–ù–ê (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞)
GET http://localhost:8080/example

> {%
    client.test("7. –î–æ—Å—Ç—É–ø –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –∑–∞–ø—Ä–µ—â–µ–Ω", function() {
        client.assert(response.status === 403, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ 403 –±–µ–∑ —Ç–æ–∫–µ–Ω–∞");
        client.log("‚úÖ –î–æ—Å—Ç—É–ø –±–µ–∑ —Ç–æ–∫–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—Ä–µ—â–µ–Ω");
    });
%}

### 8. –î–û–°–¢–£–ü –ö –ê–î–ú–ò–ù–°–ö–û–ú–£ ENDPOINT (–±–µ–∑ –ø—Ä–∞–≤)
GET http://localhost:8080/example/admin
Authorization: Bearer {{user_token}}

> {%
    client.test("8. –ê–¥–º–∏–Ω—Å–∫–∏–π endpoint –∑–∞–ø—Ä–µ—â–µ–Ω –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", function() {
        client.assert(response.status === 403, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ 403 –±–µ–∑ –ø—Ä–∞–≤ ADMIN");
        client.log("‚úÖ –ê–¥–º–∏–Ω—Å–∫–∏–π endpoint –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø—Ä–µ—â–µ–Ω –¥–ª—è USER");
    });
%}

### 9. –ü–û–õ–£–ß–ï–ù–ò–ï –ü–†–ê–í –ê–î–ú–ò–ù–ê
GET http://localhost:8080/example/get-admin
Authorization: Bearer {{user_token}}

> {%
    client.test("9. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–≤ ADMIN", function() {
        client.assert(response.status === 200, "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∞ ADMIN");
        client.log("‚úÖ –ü—Ä–∞–≤–∞ ADMIN —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã");
    });
%}

### 10. –ü–û–í–¢–û–†–ù–´–ô –î–û–°–¢–£–ü –ö –ê–î–ú–ò–ù–°–ö–û–ú–£ ENDPOINT (–ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∞–≤)
GET http://localhost:8080/example/admin
Authorization: Bearer {{user_token}}

> {%
    client.test("10. –ê–¥–º–∏–Ω—Å–∫–∏–π endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∞–≤", function() {
        client.assert(response.status === 200, "–ê–¥–º–∏–Ω—Å–∫–∏–π endpoint –≤—Å–µ –µ—â–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω");
        client.assert(response.body === "Hello, admin!", "–ù–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ endpoint");
        client.log("‚úÖ –ê–¥–º–∏–Ω—Å–∫–∏–π endpoint —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–µ–Ω");
    });
%}

### 11. –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –° –¢–ï–°–¢–û–í–´–ú–ò –î–ê–ù–ù–´–ú–ò –ò–ó MIGRATION

### 11.1 –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –ê–î–ú–ò–ù–ê
POST http://localhost:8080/auth/sign-in
Content-Type: application/json

{
  "username": "admin",
  "password": "admin123"
}

> {%
    client.test("11.1 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞", function() {
        client.assert(response.status === 200, "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å");
        client.global.set("admin_token", response.body.token);
        client.log("‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∞–¥–º–∏–Ω–∞ —É—Å–ø–µ—à–Ω–∞");
    });
%}

### 11.2 –ê–î–ú–ò–ù–°–ö–ò–ô ENDPOINT –° –ê–î–ú–ò–ù–û–ú
GET http://localhost:8080/example/admin
Authorization: Bearer {{admin_token}}

> {%
    client.test("11.2 –ê–¥–º–∏–Ω—Å–∫–∏–π endpoint —Å –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–º –∞–¥–º–∏–Ω–æ–º", function() {
        client.assert(response.status === 200, "–ê–¥–º–∏–Ω –Ω–µ –º–æ–∂–µ—Ç –¥–æ—Å—Ç—É–ø—Ç—å –∞–¥–º–∏–Ω—Å–∫–∏–π endpoint");
        client.log("‚úÖ –ê–¥–º–∏–Ω—Å–∫–∏–π endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ–º—É –∞–¥–º–∏–Ω—É");
    });
%}

### 11.3 –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –û–ë–´–ß–ù–û–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø –ò–ó MIGRATION
POST http://localhost:8080/auth/sign-in
Content-Type: application/json

{
  "username": "user1",
  "password": "user123"
}

> {%
    client.test("11.3 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è user1 –∏–∑ –º–∏–≥—Ä–∞—Ü–∏–∏", function() {
        client.assert(response.status === 200, "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è user1 –Ω–µ —É–¥–∞–ª–∞—Å—å");
        client.global.set("user1_token", response.body.token);
        client.log("‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è user1 —É—Å–ø–µ—à–Ω–∞");
    });
%}

### 12. –í–ê–õ–ò–î–ê–¶–ò–Ø –î–ê–ù–ù–´–•

### 12.1 –°–õ–ò–®–ö–û–ú –ö–û–†–û–¢–ö–û–ï –ò–ú–Ø –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
POST http://localhost:8080/auth/sign-up
Content-Type: application/json

{
  "username": "abc",
  "email": "short@mail.ru",
  "password": "password123"
}

> {%
    client.test("12.1 –í–∞–ª–∏–¥–∞—Ü–∏—è: –∫–æ—Ä–æ—Ç–∫–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", function() {
        client.assert(response.status === 400, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏");
        client.log("‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ—Ä–æ—Ç–∫–æ–≥–æ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç");
    });
%}

### 12.2 –ù–ï–í–ê–õ–ò–î–ù–´–ô EMAIL
POST http://localhost:8080/auth/sign-up
Content-Type: application/json

{
  "username": "validuser",
  "email": "invalid-email",
  "password": "password123"
}

> {%
    client.test("12.2 –í–∞–ª–∏–¥–∞—Ü–∏—è: –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π email", function() {
        client.assert(response.status === 400, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email");
        client.log("‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è email —Ä–∞–±–æ—Ç–∞–µ—Ç");
    });
%}

### 13. –ü–†–û–í–ï–†–ö–ê SWAGGER DOCUMENTATION
GET http://localhost:8080/v3/api-docs

> {%
    client.test("13. Swagger documentation –¥–æ—Å—Ç—É–ø–Ω–∞", function() {
        client.assert(response.status === 200, "Swagger docs –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã");
        client.log("‚úÖ Swagger documentation –¥–æ—Å—Ç—É–ø–Ω–∞");
    });
%}

### 14. –ü–†–û–í–ï–†–ö–ê –ù–ï–°–£–©–ï–°–¢–í–£–Æ–©–ï–ì–û ENDPOINT
GET http://localhost:8080/non-existent-endpoint
Authorization: Bearer {{user_token}}

> {%
    client.test("14. –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404", function() {
        client.assert(response.status === 404, "–û–∂–∏–¥–∞–ª–∞—Å—å –æ—à–∏–±–∫–∞ 404");
        client.log("‚úÖ –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π endpoint –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è");
    });
%}

### 15. –§–ò–ù–ê–õ–¨–ù–´–ô –¢–ï–°–¢ - –°–û–ó–î–ê–ù–ò–ï –ò –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–û–í–û–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
POST http://localhost:8080/auth/sign-up
Content-Type: application/json

{
  "username": "petrov",
  "email": "petrov@yandex.ru",
  "password": "petrov123"
}

> {%
    client.test("15.1 –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è", function() {
        client.assert(response.status === 200, "–§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å");
        client.global.set("final_token", response.body.token);
        client.log("‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞");
    });
%}

### 15.2 –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ù–û–í–û–ì–û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
GET http://localhost:8080/example
Authorization: Bearer {{final_token}}

> {%
    client.test("15.2 –§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ endpoint", function() {
        client.assert(response.status === 200, "–§–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –Ω–µ –ø—Ä–æ—à–µ–ª");
        client.log("üéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´ –£–°–ü–ï–®–ù–û!");
    });
%}