<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∞—à–±–æ—Ä–¥ - JWT Auth Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .token-display {
            background-color: #d4edda;
            border: 2px solid #28a745;
            border-radius: 0.375rem;
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            word-break: break-all;
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 1rem;
            color: #155724;
            font-weight: 500;
        }
        .copy-btn {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .copy-btn:hover {
            transform: scale(1.05);
        }
        .token-section {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .token-badge {
            font-size: 0.7rem;
            padding: 0.25rem 0.5rem;
        }
        .card-bg-light {
            background-color: rgba(255, 255, 255, 0.9) !important;
        }
        .token-label {
            color: #155724;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <a class="navbar-brand" href="/">JWT Auth Demo</a>
        <div class="navbar-nav">
            <a class="nav-link" href="/">–ì–ª–∞–≤–Ω–∞—è</a>
            <a class="nav-link active" href="/dashboard">–î–∞—à–±–æ—Ä–¥</a>
            <a class="nav-link" href="/admin">–ê–¥–º–∏–Ω–∫–∞</a>
            <form action="/auth/web-logout" method="post" style="display: inline;">
                <button type="submit" class="nav-link btn btn-link text-light text-decoration-none"
                        style="border: none; background: none; padding: 0.5rem 1rem;">
                    –í—ã–π—Ç–∏
                </button>
            </form>
        </div>
    </div>
</nav>

<div class="container mt-5">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="mb-0">–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h4>
                </div>
                <div class="card-body">
                    <div class="alert alert-success">
                        <h5>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span th:text="${username}">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>!</h5>
                        <p>–í—ã —É—Å–ø–µ—à–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ.</p>
                    </div>

                    <!-- –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏ -->
                    <div class="token-section">
                        <h5>üîê –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏</h5>
                        <div class="row mt-3">
                            <div class="col-md-6">
                                <div class="card card-bg-light">
                                    <div class="card-body">
                                        <h6 class="token-label">Access Token
                                            <span class="badge token-badge bg-primary">5 –º–∏–Ω</span>
                                        </h6>
                                        <div class="token-display" id="accessTokenDisplay" th:text="${accessToken}">
                                            <!-- Access Token –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                                        </div>
                                        <div class="d-flex gap-2">
                                            <button class="btn btn-outline-primary btn-sm copy-btn" onclick="copyAccessToken()">
                                                üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å Access
                                            </button>
                                            <button class="btn btn-outline-secondary btn-sm" onclick="toggleAccessTokenVisibility()">
                                                üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card card-bg-light">
                                    <div class="card-body">
                                        <h6 class="token-label">Refresh Token
                                            <span class="badge token-badge bg-success">30 –¥–Ω–µ–π</span>
                                        </h6>
                                        <div class="token-display" id="refreshTokenDisplay" th:text="${refreshToken}">
                                            <!-- Refresh Token –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                                        </div>
                                        <div class="d-flex gap-2">
                                            <button class="btn btn-outline-success btn-sm copy-btn" onclick="copyRefreshToken()">
                                                üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å Refresh
                                            </button>
                                            <button class="btn btn-outline-secondary btn-sm" onclick="toggleRefreshTokenVisibility()">
                                                üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row mt-3">
                            <div class="col-12">
                                <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                                    <button class="btn btn-warning me-md-2" onclick="refreshTokens()">
                                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω—ã
                                    </button>
                                    <button class="btn btn-info me-md-2" onclick="checkTokenStatus()">
                                        üìä –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
                                    </button>
                                    <button class="btn btn-outline-light" onclick="showTokenInfo()">
                                        ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–∫–µ–Ω–∞—Ö
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –°–¢–ê–†–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API -->
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h5>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</h5>
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-primary" onclick="testProtectedEndpoint()">
                                            –¢–µ—Å—Ç –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
                                        </button>
                                        <button class="btn btn-warning" onclick="testAdminEndpoint()">
                                            –¢–µ—Å—Ç –∞–¥–º–∏–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞
                                        </button>
                                        <button class="btn btn-info" onclick="getAdminRole()">
                                            –ü–æ–ª—É—á–∏—Ç—å —Ä–æ–ª—å ADMIN
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-body">
                                    <h5>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h5>
                                    <ul class="list-unstyled small">
                                        <li>üë§ <strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> <span th:text="${username}"></span></li>
                                        <li>üìè <strong>Access Token –¥–ª–∏–Ω–∞:</strong> <span th:text="${accessToken != null ? accessToken.length() : 0}"></span> —Å–∏–º–≤–æ–ª–æ–≤</li>
                                        <li>üìè <strong>Refresh Token –¥–ª–∏–Ω–∞:</strong> <span th:text="${refreshToken != null ? refreshToken.length() : 0}"></span> —Å–∏–º–≤–æ–ª–æ–≤</li>
                                        <li>‚è∞ <strong>Access Token —Å—Ä–æ–∫:</strong> 5 –º–∏–Ω—É—Ç</li>
                                        <li>‚è∞ <strong>Refresh Token —Å—Ä–æ–∫:</strong> 30 –¥–Ω–µ–π</li>
                                    </ul>

                                    <div class="alert alert-info small">
                                        <strong>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞:</strong> Access Token –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API,
                                        Refresh Token - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4">
                        <h5>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h5>
                        <div id="apiResults"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let accessTokenVisible = true;
    let refreshTokenVisible = true;

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function() {
        const accessTokenElement = document.getElementById('accessTokenDisplay');
        const refreshTokenElement = document.getElementById('refreshTokenDisplay');

        if (accessTokenElement) {
            accessTokenElement.setAttribute('data-original', accessTokenElement.textContent);
        }
        if (refreshTokenElement) {
            refreshTokenElement.setAttribute('data-original', refreshTokenElement.textContent);
        }
    });

    // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Access Token
    function copyAccessToken() {
        const tokenElement = document.getElementById('accessTokenDisplay');
        const token = tokenElement.textContent;

        navigator.clipboard.writeText(token).then(() => {
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
            btn.classList.remove('btn-outline-primary');
            btn.classList.add('btn-success');

            setTimeout(() => {
                btn.textContent = originalText;
                btn.classList.remove('btn-success');
                btn.classList.add('btn-outline-primary');
            }, 2000);
        }).catch(err => {
            console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
            showAlert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Access Token', 'error');
        });
    }

    // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ Refresh Token
    function copyRefreshToken() {
        const tokenElement = document.getElementById('refreshTokenDisplay');
        const token = tokenElement.textContent;

        navigator.clipboard.writeText(token).then(() => {
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
            btn.classList.remove('btn-outline-success');
            btn.classList.add('btn-success');

            setTimeout(() => {
                btn.textContent = originalText;
                btn.classList.remove('btn-success');
                btn.classList.add('btn-outline-success');
            }, 2000);
        }).catch(err => {
            console.error('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è: ', err);
            showAlert('–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å Refresh Token', 'error');
        });
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ Access Token
    function toggleAccessTokenVisibility() {
        const tokenElement = document.getElementById('accessTokenDisplay');
        const btn = event.target;

        if (accessTokenVisible) {
            tokenElement.textContent = '‚Ä¢'.repeat(50) + ' (—Å–∫—Ä—ã—Ç–æ)';
            tokenElement.style.color = '#6c757d';
            tokenElement.style.backgroundColor = '#f8f9fa';
            tokenElement.style.borderColor = '#dee2e6';
            btn.textContent = 'üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å Access Token';
        } else {
            tokenElement.textContent = tokenElement.getAttribute('data-original') || tokenElement.textContent;
            tokenElement.style.color = '#155724';
            tokenElement.style.backgroundColor = '#d4edda';
            tokenElement.style.borderColor = '#28a745';
            btn.textContent = 'üëÅÔ∏è –°–∫—Ä—ã—Ç—å Access Token';
        }
        accessTokenVisible = !accessTokenVisible;
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ Refresh Token
    function toggleRefreshTokenVisibility() {
        const tokenElement = document.getElementById('refreshTokenDisplay');
        const btn = event.target;

        if (refreshTokenVisible) {
            tokenElement.textContent = '‚Ä¢'.repeat(50) + ' (—Å–∫—Ä—ã—Ç–æ)';
            tokenElement.style.color = '#6c757d';
            tokenElement.style.backgroundColor = '#f8f9fa';
            tokenElement.style.borderColor = '#dee2e6';
            btn.textContent = 'üëÅÔ∏è –ü–æ–∫–∞–∑–∞—Ç—å Refresh Token';
        } else {
            tokenElement.textContent = tokenElement.getAttribute('data-original') || tokenElement.textContent;
            tokenElement.style.color = '#155724';
            tokenElement.style.backgroundColor = '#d4edda';
            tokenElement.style.borderColor = '#28a745';
            btn.textContent = 'üëÅÔ∏è –°–∫—Ä—ã—Ç—å Refresh Token';
        }
        refreshTokenVisible = !refreshTokenVisible;
    }

    // –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
    async function refreshTokens() {
        showAlert('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤...', 'info');

        try {
            const response = await fetch('/auth/web-refresh', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                credentials: 'include'
            });

            if (response.ok) {
                const data = await response.json();

                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
                document.getElementById('accessTokenDisplay').textContent = data.accessToken;
                document.getElementById('refreshTokenDisplay').textContent = data.refreshToken;

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
                document.getElementById('accessTokenDisplay').setAttribute('data-original', data.accessToken);
                document.getElementById('refreshTokenDisplay').setAttribute('data-original', data.refreshToken);

                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç
                accessTokenVisible = true;
                refreshTokenVisible = true;
                document.getElementById('accessTokenDisplay').style.color = '#155724';
                document.getElementById('accessTokenDisplay').style.backgroundColor = '#d4edda';
                document.getElementById('accessTokenDisplay').style.borderColor = '#28a745';
                document.getElementById('refreshTokenDisplay').style.color = '#155724';
                document.getElementById('refreshTokenDisplay').style.backgroundColor = '#d4edda';
                document.getElementById('refreshTokenDisplay').style.borderColor = '#28a745';

                showAlert('‚úÖ –¢–æ–∫–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã!', 'success');
            } else {
                const error = await response.text();
                throw new Error(error);
            }
        } catch (error) {
            console.error('Token refresh error:', error);
            showAlert('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
            setTimeout(() => {
                window.location.href = '/login?tokenExpired=true';
            }, 3000);
        }
    }

    // –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤
    async function checkTokenStatus() {
        showAlert('üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ–∫–µ–Ω–æ–≤...', 'info');

        try {
            const response = await fetch('/token-info', {
                credentials: 'include'
            });

            const tokenInfo = await response.json();

            if (tokenInfo.error) {
                showAlert('‚ùå ' + tokenInfo.error, 'error');
            } else {
                showAlert(`‚úÖ –°—Ç–∞—Ç—É—Å —Ç–æ–∫–µ–Ω–∞: ${tokenInfo.isValid ? 'VALID' : 'INVALID'}<br>
                              üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${tokenInfo.username}<br>
                              üìè –î–ª–∏–Ω–∞: ${tokenInfo.length} —Å–∏–º–≤–æ–ª–æ–≤`, 'success');
            }
        } catch (error) {
            console.error('Token status check error:', error);
            showAlert('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ–∫–µ–Ω–∞', 'error');
        }
    }

    // –ù–û–í–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–∫–µ–Ω–∞—Ö
    function showTokenInfo() {
        const accessToken = document.getElementById('accessTokenDisplay').getAttribute('data-original');
        const refreshToken = document.getElementById('refreshTokenDisplay').getAttribute('data-original');

        const info = `
                <strong>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–∫–µ–Ω–∞—Ö:</strong><br>
                üîê <strong>Access Token:</strong><br>
                - –î–ª–∏–Ω–∞: ${accessToken ? accessToken.length : 0} —Å–∏–º–≤–æ–ª–æ–≤<br>
                - –°—Ä–æ–∫: 5 –º–∏–Ω—É—Ç<br>
                - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –î–æ—Å—Ç—É–ø –∫ API<br><br>

                üîÑ <strong>Refresh Token:</strong><br>
                - –î–ª–∏–Ω–∞: ${refreshToken ? refreshToken.length : 0} —Å–∏–º–≤–æ–ª–æ–≤<br>
                - –°—Ä–æ–∫: 30 –¥–Ω–µ–π<br>
                - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
            `;

        showAlert(info, 'info');
    }

    // –°–¢–ê–†–´–ô –§–£–ù–ö–¶–ò–û–ù–ê–õ: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
    function getTokenFromCookie() {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; accessToken=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
        return null;
    }

    async function makeAuthenticatedRequest(url, method = 'GET') {
        const token = getTokenFromCookie();

        const response = await fetch(url, {
            method: method,
            headers: {
                'Authorization': token ? `Bearer ${token}` : '',
                'Content-Type': 'application/json'
            }
        });

        if (!response.ok) {
            throw new Error(`HTTP –æ—à–∏–±–∫–∞! —Å—Ç–∞—Ç—É—Å: ${response.status}`);
        }

        return await response.text();
    }

    function testProtectedEndpoint() {
        document.getElementById('apiResults').innerHTML =
            '<div class="alert alert-info">üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—â–∏—â–µ–Ω–Ω–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞...</div>';

        makeAuthenticatedRequest('/api/example')
            .then(data => {
                document.getElementById('apiResults').innerHTML =
                    '<div class="alert alert-success">‚úÖ –£—Å–ø–µ—à–Ω–æ!<br>' + data + '</div>';
            })
            .catch(error => {
                document.getElementById('apiResults').innerHTML =
                    '<div class="alert alert-danger">‚ùå –û—à–∏–±–∫–∞: ' + error.message + '</div>';
            });
    }

    function testAdminEndpoint() {
        document.getElementById('apiResults').innerHTML =
            '<div class="alert alert-info">üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–¥–º–∏–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞...</div>';

        makeAuthenticatedRequest('/api/example/admin')
            .then(data => {
                document.getElementById('apiResults').innerHTML =
                    '<div class="alert alert-success">‚úÖ –£—Å–ø–µ—à–Ω–æ!<br>' + data + '</div>';
            })
            .catch(error => {
                document.getElementById('apiResults').innerHTML =
                    '<div class="alert alert-danger">‚ùå –û—à–∏–±–∫–∞: ' + error.message +
                    '<br><small>–í–æ–∑–º–æ–∂–Ω–æ, —É –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ ADMIN</small></div>';
            });
    }

    function getAdminRole() {
        document.getElementById('apiResults').innerHTML =
            '<div class="alert alert-info">üîÑ –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–≤ ADMIN...</div>';

        makeAuthenticatedRequest('/api/example/get-admin')
            .then(data => {
                document.getElementById('apiResults').innerHTML =
                    '<div class="alert alert-info">‚ÑπÔ∏è ' + data +
                    '<br><small>–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–¥–º–∏–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç —Å–Ω–æ–≤–∞</small></div>';
            })
            .catch(error => {
                document.getElementById('apiResults').innerHTML =
                    '<div class="alert alert-danger">‚ùå –û—à–∏–±–∫–∞: ' + error.message + '</div>';
            });
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    function showAlert(message, type) {
        const alertDiv = document.createElement('div');
        alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
        alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;

        const resultsDiv = document.getElementById('apiResults');
        resultsDiv.innerHTML = '';
        resultsDiv.appendChild(alertDiv);
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>